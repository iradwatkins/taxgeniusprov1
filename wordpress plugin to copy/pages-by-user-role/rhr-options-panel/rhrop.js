!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)&&r.length){var l=o.apply(null,r);l&&e.push(l)}else if("object"===a)for(var i in r)n.call(r,i)&&r[i]&&e.push(i)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=(n(2),wp.components),l=a.TabPanel,i=(a.Icon,function(e){}),c=function(e){return wp.element.createElement("div",{key:e.name},function(e){return e.description?wp.element.createElement("div",{className:"rhop-tab-panel-tab-description"},wp.element.createElement("h2",null,e.description)):null}(e),e._children.map((function(t){return Te({options:t,dataHandler:e.dataHandler})})))};function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var l,i=e[Symbol.iterator]();!(r=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=wp.element,f=p.useState,d=(p.createElement,wp.components.ToggleControl);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var l,i=e[Symbol.iterator]();!(r=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=wp.element,h=y.useState,v=(y.createElement,wp.components.TextControl);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var l,i=e[Symbol.iterator]();!(r=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k=wp.element,S=k.useState,A=(k.createElement,wp.components.TextareaControl);function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var l,i=e[Symbol.iterator]();!(r=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j=wp.element.useState,I=wp.components.Button,N=wp.components.Button;function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var l,i=e[Symbol.iterator]();!(r=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x=wp.element.useState,_=wp.components.ColorPicker;n(3);function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var l,i=e[Symbol.iterator]();!(r=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function U(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var $=lodash,R=$.partial,B=$.noop,L=$.find,F=wp.element,V=F.useState,W=F.useEffect,Z=wp.compose.useInstanceId,z=wp.components,G=z.NavigableMenu,q=z.Button,J=z.Panel,K=z.ButtonGroup,Q=function(e){var t=e.tabId,n=e.onClick,r=e.children,o=e.selected,a=U(e,["tabId","onClick","children","selected"]);return wp.element.createElement(q,D({role:"tab",tabIndex:o?null:-1,"aria-selected":o,isSecondary:!o,isPrimary:!!o,id:t,onClick:n},a),r)};function X(e){var t=e.className,n=e.children,r=e.tabs,a=e.initialTabName,l=e.orientation,i=void 0===l?"horizontal":l,c=e.activeClass,u=void 0===c?"is-active":c,s=e.onSelect,p=void 0===s?B:s,f=e.bodyClassName,d=void 0===f?"rhop-content":f,m=e.logo,b=Z(X,"tab-panel"),y=T(V(null),2),h=y[0],v=y[1],g=function(e){v(e),p(e)},w=L(r,{name:h}),k="".concat(b,"-").concat(w&&w.name?w.name:"none");return W((function(){L(r,{name:h})||v(a||(0<r.length?r[0].name:null))}),[r]),wp.element.createElement("div",{className:o()("btn-panel-holder",t)},wp.element.createElement(J,{className:"btn-panel-panel"},wp.element.createElement("div",{className:d},wp.element.createElement("div",{className:"btn-panel-content"},wp.element.createElement("div",{className:"btn-panel-logo-container"},function(e){if(e)return wp.element.createElement("div",{className:"btn-panel-logo"},wp.element.createElement("img",{src:e}))}(m)),wp.element.createElement(G,{role:"tablist",orientation:i,onNavigate:function(e,t){t.click()},className:"btn-panel-nav"},wp.element.createElement(K,{className:"btn-panel-nav-group"},r.map((function(e){return wp.element.createElement(Q,{className:o()("btn-panel-nav-group-item",e.className,P({},u,e.name===h)),tabId:"".concat(b,"-").concat(e.name),"aria-controls":"".concat(b,"-").concat(e.name,"-view"),selected:e.name===h,key:e.name,onClick:R(g,e.name)},e.title)}))))))),w&&wp.element.createElement("div",{"aria-labelledby":k,role:"tabpanel",id:"".concat(k,"-view"),className:"components-btn-panel__tab-content"},n(w)))}n(4),wp.components.Icon;var Y=function(e){},ee=function(e){return wp.element.createElement("div",{key:e.name},function(e){return e.description?wp.element.createElement("div",{className:"rhop-tab-panel-tab-description"},wp.element.createElement("h2",null,e.description)):null}(e),e._children.map((function(t){return Te({options:t,dataHandler:e.dataHandler})})))};function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var l,i=e[Symbol.iterator]();!(r=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var re=wp.element.useState,oe=wp.components.CheckboxControl;wp.compose.useInstanceId;function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var l,i=e[Symbol.iterator]();!(r=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return le(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ie=wp.element.useState,ce=wp.components,ue=ce.CheckboxControl,se=ce.BaseControl;wp.compose.useInstanceId,n(1);function pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var l,i=e[Symbol.iterator]();!(r=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var de=wp.element.useState,me=wp.components.SelectControl;function be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var l,i=e[Symbol.iterator]();!(r=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ye(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var he=wp.element.useState,ve=wp.components.RangeControl;n(5);function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var l,i=e[Symbol.iterator]();!(r=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return we(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return we(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ke=wp.element.useState,Se=wp.components,Ae=Se.Draggable,Ee=Se.DropZone,Oe=Se.DropZoneProvider,je=Se.Button;function Ie(e){var t=e.id,n=e.label;return wp.element.createElement("div",{id:t,key:t,onDragEnd:function(e){console.log(" dragend",e)}},wp.element.createElement(Ae,{elementId:t,transferData:{}},(function(e){e.onDraggableStart,e.onDraggableEnd;return wp.element.createElement(je,{draggable:!0,isSecondary:!0},n)})))}var Ne=wp.element,He=(Ne.useState,Ne.createElement,wp.components.PanelBody),Ce=wp.element.createElement,xe={tabpanel:function(e){e.block.name;var t=function(e){return e.block._children.map((function(t,n){return{name:t.name,title:t.title,className:"rhop-tab rhop-tab-"+t.name,description:t.description,_children:t._children,dataHandler:e.dataHandler}}))}(e),n=window.location.hash,r=e.block.initialTabName;n&&0<n.length&&(t.filter((function(e){return e.name==n.substring(1)})).length&&(r=n.substring(1)));return wp.element.createElement(l,{initialTabName:r,className:o()("rhop-tab-panel",e.block.className),activeClass:"active-tab",onSelect:i,tabs:t},c)},togglecontrol:function(e){var t=e.block,n=e.dataHandler,r=u(f(!!parseInt(e.dataHandler.get(e.block.name,!!e.block.default&&e.block.default,!0))),2),o=r[0],a=r[1];return wp.element.createElement("div",{className:"rhop-togglecontrol-holder"},wp.element.createElement(d,{label:e.block.label,checked:o,help:o?e.block.help_on:e.block.help_off,onChange:function(t){if(e.dataHandler&&e.block.name){var n=t?"1":"0";e.dataHandler.update(e.block.name,n),e.block.autosave=void 0===e.block.autosave||e.block.autosave,e.block.autosave&&e.dataHandler.save()}return a(t)}}),wp.element.createElement("div",{className:"rhop-togglecontrol-children"},o&&t._children?t._children.map((function(e){return Te({options:e,dataHandler:n})})):null))},textcontrol:function(e){var t=m(h(e.dataHandler.get(e.block.name,e.block.default?e.block.default:"",!0)),2),n=t[0],r=t[1],o=e.block,a=o.label,l=o.name,i=o.placeholder,c=o.help,u=o.type,s=o.className,p=o.title,f=e.block;f.key?f.key:f.id?f.id:f.name?f.name:index++;return wp.element.createElement(v,{label:a,name:l,placeholder:i,help:c,type:u||"text",value:n,className:s,title:p,onChange:function(t){return e.dataHandler.update(e.block.name,t),r(t)}})},textareacontrol:function(e){var t=g(S(e.dataHandler.get(e.block.name,e.block.default?e.block.default:"",!0)),2),n=t[0],r=t[1],o=e.block,a=o.label,l=(o.name,o.help),i=o.className,c=o.rows;e.block;return wp.element.createElement(A,{label:a,help:l,value:n,className:i,rows:c,onChange:function(t){return e.dataHandler.update(e.block.name,t),r(t)}})},btnsave:function(e){var t=E(j(!!e.dataHandler.isAPISaving),2),n=t[0],r=t[1],o=e.block,a=o.label,l=o.className,i=o.reload,c=i?parseInt(i):0;return!!e.dataHandler.isAPISaving&&setTimeout((function(){r(!1)}),500),wp.element.createElement(I,{className:l,disabled:n,isPrimary:!0,reload:c,onClick:function(t){return e.dataHandler.save((function(e){var t=r(!1);return c&&window.location.reload(!1),t})),r(!0)}},a)},btndebug:function(e){var t=e.block.label;return wp.element.createElement(N,{isPrimary:!0,onClick:function(t){return e.dataHandler.debug(),!0}},t)},colorpicker:function(e){var t=H(x(e.dataHandler.get(e.block.name,e.block.default?e.block.default:"#f00",!0)),2),n=t[0],r=t[1];return wp.element.createElement(_,{color:n,disableAlpha:!0,onChangeComplete:function(t){return e.dataHandler.update(e.block.name,t.hex),r(t.hex)}})},topbar:function(e){var t=function(e){return e.block._children.map((function(t,n){return{name:t.name,title:t.title,className:"rhop-tab rhop-tab-"+t.name,description:t.description,_children:t._children,dataHandler:e.dataHandler}}))}(e),n=window.location.hash,r=e.block.initialTabName;n&&0<n.length&&(t.filter((function(e){return e.name==n.substring(1)})).length&&(r=n.substring(1)));return wp.element.createElement(X,{initialTabName:r,className:"rhop-top-bar",contentClassName:"rhop-content",activeClass:"active-tab",logo:e.block.logo,onSelect:Y,tabs:t},ee)},checkboxcontrol:function(e){var t=e.block,n=e.dataHandler,r=te(re(!!parseInt(n.get(t.name,t.default?t.default:"",!0))),2),o=r[0],a=r[1],l=e.block,i=l.label,c=(l.name,l.help),u=l.className,s=l.heading;return t._children?wp.element.createElement("div",{className:"rhop-checkboxcontrol-holder"},wp.element.createElement(oe,{className:u,heading:s,label:i,help:c,checked:o,onChange:function(t){if(e.dataHandler&&e.block.name){var n=t?"1":"0";e.dataHandler.update(e.block.name,n)}return a(t)}}),wp.element.createElement("div",{className:"rhop-nested-checkboxes"},o?t._children.map((function(e){return Te({options:e,dataHandler:n})})):null)):wp.element.createElement("div",{className:"rhop-checkboxcontrol-holder"},wp.element.createElement(oe,{className:u,heading:s,label:i,help:c,checked:o,onChange:function(t){if(e.dataHandler&&e.block.name){var n=t?"1":"0";e.dataHandler.update(e.block.name,n)}return a(t)}}))},checkboxescontrol:function(e){var t=e.block,n=e.dataHandler,r=e.block,o=(r.name,r.className,r.options),a=[];return o.forEach((function(r){var o=ae(ie((function(){var o=e.block.default&&Array.isArray(e.block.default)?e.block.default:[],a=n.get(t.name,o,!0);return Array.isArray(a)&&0<=a.indexOf(r.value)})),2),l=o[0],i=o[1],c=e.block,u=(c.label,c.name),s=(c.help,c.className,c.heading,c.options,u+"_"+r.value);a.push(wp.element.createElement(ue,{className:"rhop-checkbox-array",key:s,label:r.label,checked:l,onChange:function(o){var a=e.block.default&&Array.isArray(e.block.default)?e.block.default:[],l=n.get(t.name,a,!0);if(l=Array.isArray(l)?l:[],o)-1==l.indexOf(r.value)&&(l.push(r.value),n.update(t.name,l));else if(0<=l.indexOf(r.value)){var c=l.filter((function(e){return e!==r.value}));n.update(t.name,c)}return i(o)}}))})),wp.element.createElement(se,{label:e.block.label,className:"rhop-checkboxes-array-holder"},a)},selectcontrol:function(e){var t=e.block,n=e.dataHandler,r=e.block,o=r.label,a=r.options,l=r.help,i=r.name,c=pe(de(n.get(i,t.default?t.default:"",!0)),2),u=c[0],s=c[1],p="rhop-selectcontrol"+(t.className?" "+t.className:"");return wp.element.createElement(me,{label:o,value:u,help:l,options:a,className:p,onChange:function(e){return n.update(i,e),s(e)}})},rangecontrol:function(e){var t=e.block,n=e.dataHandler,r=e.block,o=r.label,a=(r.options,r.help,r.name),l=r.beforeIcon,i=r.afterIcon,c=(r.railColor,r.renderTooltipContent,r.resetFallbackValue,r.showTooltip,r.trackColor,r.withInputField,r.icon),u=(r.separatorType,Object.assign({min:1,max:10,step:1,type:"slider",allowReset:!1,marks:[]},t)),s=u.min,p=u.max,f=u.step,d=(u.type,u.allowReset),m=u.marks,b=be(he(parseFloat(n.get(a,t.default?t.default:"5",!0))),2),y=b[0],h=b[1];t.className&&t.className;return wp.element.createElement(ve,{label:o,value:y,min:s,max:p,step:f,beforeIcon:l,afterIcon:i,allowReset:d,marks:m,icon:c,onChange:function(e){return n.update(a,e),h(e)}})},dragdropcontrol:function(e){var t=e.block,n=(e.dataHandler,ge(ke(!1),2)),r=n[0],o=n[1],a="rhop-dragdropcontrol"+(t.className?" "+t.className:"");console.log("dragdrop render");return wp.element.createElement("div",{className:a},wp.element.createElement(Oe,null,wp.element.createElement("div",{className:"rhop-dragdrop-used-options"},r?"Dropped!":"Drop something here",[{id:"agendaWeek",label:"Agenda Week"},{id:"agendaDay",label:"Agenda Day"}].map((function(e){return Ie(e)})),wp.element.createElement(Ee,{label:"Drop controls here",onHTMLDrop:function(e,t){return console.log("dropped html",t,e),o(!0)},onDrop:function(e){return console.log("dropped ev",e),o(!0)}}))),wp.element.createElement("div",{className:"rhop-dragdrop-available-options"},[{id:"month",label:"Month"},{id:"week",label:"Week"},{id:"day",label:"Day"}].map((function(e){return Ie(e)}))))},panelbodywithopenstate:function(e){var t=e.block,n=t.name,r=t.title,o=t.opened,a=t.className,l=t.icon,i=e.block,c=e.dataHandler,u=e.block.initialOpen;n&&(u=!!(u=e.dataHandler.get(n,u||!0,!0)));return wp.element.createElement(He,{title:r,opened:o,className:a,icon:l,initialOpen:u,onToggle:function(e){n&&(c.update(n,e),c.save())}},i._children?i._children.map((function(e){return Te({options:e,dataHandler:c})})):null)}},_e=1,Pe={components:{},corecomponents:xe};function Te(e){var t=e.options;if(t.key=t.key?t.key:t.id?t.id:t.name?t.name:"rhop-"+_e++,t.conditionalshow&&t.conditionalshow.name&&(console.log("block",t),console.log("get",t.conditionalshow.name,e.dataHandler.get(t.conditionalshow.name,t.conditionalshow.default,!0)),console.log("value",t.conditionalshow.value),e.dataHandler.get(t.conditionalshow.name,t.conditionalshow.default,!0)!=t.conditionalshow.value))return null;if(void 0!==Pe.components[t.component])return Ce(Pe.components[t.component],{key:t.key,block:t,dataHandler:e.dataHandler});if(void 0!==xe[t.component])return Ce(xe[t.component],{key:t.key,block:t,dataHandler:e.dataHandler});if(void 0!==wp.components[t.component]){var n=Object.assign({},t,{component:void 0,_children:void 0,content:void 0});return Ce(wp.components[t.component],n,t._children?t._children.map((function(t){return Te({options:t,dataHandler:e.dataHandler})}),this):null)}if(t.component&&t.component==t.component.toLowerCase()){var r=Object.assign({},t,{component:void 0,_children:void 0,content:void 0});return Ce(t.component,r,t._children?t._children.map((function(t){return Te({options:t,dataHandler:e.dataHandler})}),this):t.content?t.content:null)}return console.log("Options panel unknown component",t),null}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}window.rhrop=Pe;var De=wp.apiFetch,Ue=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={},this.apiUrl=t.apiUrl,this.state={isAPISaving:!1}}var t,n,r;return t=e,(n=[{key:"get",value:function(e,t,n){var r=void 0!==this.options[e]?this.options[e]:t;return n&&""===r&&(r=t),r}},{key:"update",value:function(e,t,n){this.options[e]=t}},{key:"loadOptions",value:function(e){var t=this,n=this.apiUrl;De({path:n}).then((function(n){t.options=Object.assign({},n,{}),e.setState({isAPILoaded:!0})})).catch(console.log)}},{key:"save",value:function(e,t){var n=this,r=this.apiUrl;this.isAPISaving=!0,De({path:r,method:"POST",data:{options:this.options}}).then((function(t){n.isAPISaving=!1,e&&e(t)})).catch(t)}},{key:"debug",value:function(){console.log("dataHandler.debug() content on this.options:",this.options)}}])&&Me(t.prototype,n),r&&Me(t,r),e}();function $e(e){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Le(e,t){return(Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=We(e);if(t){var o=We(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ve(this,n)}}function Ve(e,t){return!t||"object"!==$e(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ze,ze=wp.components,Ge=ze.Spinner,qe=ze.Placeholder,Je=wp.element,Ke=Je.Component,Qe=Je.Fragment,Xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Le(e,t)}(a,e);var t,n,r,o=Fe(a);function a(){var e;Re(this,a),(e=o.apply(this,arguments)).state={isAPILoaded:!1,isAPISaving:!1};var t=e.props,n=t.skeletonVarname,r=t.apiUrl;return e.skeleton=e.getSkeleton(n),e.dataHandler=new Ue({apiUrl:r}),e}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this;wp.api.loadPromise.then((function(){!1===e.state.isAPILoaded&&e.dataHandler.loadOptions(e)}))}},{key:"getSkeleton",value:function(e){return!!window[e]&&window[e].options}},{key:"render",value:function(){return!1===this.skeleton?(console.log("Empty options definition"),null):this.state.isAPILoaded?wp.element.createElement(Qe,null,wp.element.createElement(Te,{options:this.skeleton,dataHandler:this.dataHandler})):wp.element.createElement(qe,null,wp.element.createElement(Ge,null))}}])&&Be(t.prototype,n),r&&Be(t,r),a}(Ke),Ye=(n(6),wp.element),et=Ye.render,tt=Ye.createElement,nt=document.getElementsByClassName("rh-options-panel-container");for(Ze=0;Ze<nt.length;Ze++){et(tt(Xe,{key:nt[Ze].getAttribute("id")+"-main",skeletonVarname:nt[Ze].getAttribute("data-skeleton_varname"),apiUrl:nt[Ze].getAttribute("data-api_url")}),nt[Ze])}}]);